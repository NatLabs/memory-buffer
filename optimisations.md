# initial

Instructions

| Methods             |         Buffer |  MemoryBuffer |
| :------------------ | -------------: | ------------: |
| add()               |      7_506_635 |    47_877_490 |
| get()               |      2_442_253 |    35_999_010 |
| put() (new == prev) |      2_803_133 |    37_989_204 |
| put() (new > prev)  |      3_143_921 |   124_989_066 |
| remove()            | 10_855_068_046 | 1_499_546_797 |
| insert()            |  9_555_436_925 | 1_266_981_621 |
| removeLast()        |      5_543_704 |   259_616_440 |


Heap

| Methods             |  Buffer | MemoryBuffer |
| :------------------ | ------: | -----------: |
| add()               | 154_740 |    1_527_936 |
| get()               |   9_008 |    1_846_984 |
| put() (new == prev) |   9_008 |    1_727_936 |
| put() (new > prev)  |   9_008 |    3_974_292 |
| remove()            |  57_716 |    6_644_304 |
| insert()            | 154_896 |    1_503_732 |
| removeLast()        |  57_700 |    6_418_460 |



### Use Region.storeNat64 and Region.loadNat64 instead of encoding manually
Instructions

|                     |         Buffer |  MemoryBuffer |
| :------------------ | -------------: | ------------: |
| add()               |      7_506_635 |    37_411_730 |
| get()               |      2_442_253 |    24_838_347 |
| put() (new == prev) |      2_803_133 |    26_829_193 |
| put() (new > prev)  |      3_143_921 |   110_872_885 |
| remove()            | 10_855_068_046 | 1_488_382_270 |
| insert()            |  9_555_436_925 | 1_257_914_428 |
| removeLast()        |      5_543_704 |   289_407_135 |


Heap

|                     |  Buffer | MemoryBuffer |
| :------------------ | ------: | -----------: |
| add()               | 154_740 |      687_984 |
| get()               |   9_008 |    1_006_968 |
| put() (new == prev) |   9_008 |      887_936 |
| put() (new > prev)  |   9_008 |    2_821_308 |
| remove()            |  57_716 |    5_801_776 |
| insert()            | 154_896 |      427_316 |
| removeLast()        |  57_700 |    6_723_228 |

### split pointer at index fn into two fns -> address and size at index

Instructions

|                     |         Buffer |  MemoryBuffer |
| :------------------ | -------------: | ------------: |
| add()               |      7_506_635 |    37_411_730 |
| get()               |      2_442_253 |    22_653_302 |
| put() (new == prev) |      2_803_133 |    26_319_193 |
| put() (new > prev)  |      3_143_921 |   109_912_039 |
| remove()            | 10_855_068_046 | 1_486_407_059 |
| insert()            |  9_555_436_925 | 1_257_914_428 |
| removeLast()        |      5_543_704 |   287_431_924 |


Heap

|                     |  Buffer | MemoryBuffer |
| :------------------ | ------: | -----------: |
| add()               | 154_740 |      687_984 |
| get()               |   9_008 |      762_888 |
| put() (new == prev) |   9_008 |      687_936 |
| put() (new > prev)  |   9_008 |    2_546_788 |
| remove()            |  57_716 |    5_731_208 |
| insert()            | 154_896 |      502_616 |
| removeLast()        |  57_700 |    6_538_764 |

### using candid cmp
Instructions

|                     |        Buffer |  MemoryBuffer |
| :------------------ | ------------: | ------------: |
| add()               |     3_971_742 |    33_209_548 |
| get()               |     2_502_310 |    24_159_646 |
| put() (new == prev) |     2_883_200 |    29_516_002 |
| put() (new > prev)  |     3_574_022 |    72_453_915 |
| put() (new < prev)  |     3_224_829 |   234_861_744 |
| remove()            | 3_691_880_416 | 1_567_276_643 |
| insert()            | 3_283_583_290 | 1_397_292_299 |
| removeLast()        |     5_682_643 |   402_754_348 |


Heap

|                     |  Buffer | MemoryBuffer |
| :------------------ | ------: | -----------: |
| add()               |   9_008 |      608_968 |
| get()               |   9_008 |      368_956 |
| put() (new == prev) |   9_008 |      608_908 |
| put() (new > prev)  |   9_012 |    1_225_248 |
| put() (new < prev)  |   9_012 |    3_340_096 |
| remove()            |  49_188 |    4_112_428 |
| insert()            | 154_900 |    2_040_736 |
| removeLast()        |  57_700 |    6_582_352 |

### switch to MaxB+Tree based Memory Region
Instructions

|                     |        Buffer |  MemoryBuffer |
| :------------------ | ------------: | ------------: |
| add()               |     3_971_742 |    31_949_548 |
| get()               |     2_502_310 |    24_161_230 |
| put() (new == prev) |     2_883_200 |    29_516_002 |
| put() (new > prev)  |     3_574_022 |    98_367_879 |
| put() (new < prev)  |     3_224_829 |   274_583_619 |
| remove()            | 3_691_880_416 | 1_691_650_080 |
| insert()            | 3_283_583_290 | 1_279_936_237 |
| removeLast()        |     5_682_643 |   102_889_245 |


Heap

|                     |  Buffer | MemoryBuffer |
| :------------------ | ------: | -----------: |
| add()               |   9_008 |      608_968 |
| get()               |   9_008 |      369_036 |
| put() (new == prev) |   9_008 |      608_908 |
| put() (new > prev)  |   9_012 |    1_656_864 |
| put() (new < prev)  |   9_012 |    3_850_584 |
| remove()            |  65_604 |    3_991_888 |
| insert()            | 154_900 |    2_406_592 |
| removeLast()        |  57_700 |    3_736_488 |
